webpackJsonp([3],{2:function(e,n,t){e.exports=t("22iK")},"22iK":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){var n=t("hHRx"),a=t("dwxp"),i=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();new(function(){function t(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.lazyLoad()}return i(t,[{key:"lazyLoad",value:function(){switch(e('meta[name="page"]').attr("content")){case"module-manager":new n.a;break;case"menu-manager":new a.a}}}]),t}())}.call(n,t("7t+N"))},dwxp:function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return o});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var r=t("M4fF"),o=function(){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.initMenus(),this.initListeners()}return i(n,[{key:"initMenus",value:function(){var n=this;this.initMenuHtml("classic-menu-structure","menu-classic"),this.initMenuHtml("admin-menu-structure","menu-admin"),e(".menu-manager").nestable({maxDepth:3}),this.menuToJson(),e(".menu-manager").on("change",function(e){n.menuToJson(),n.save()})}},{key:"initMenuHtml",value:function(n,t){var i=JSON.parse(e("meta[name='"+n+"']").attr("content"));if("object"===(void 0===i?"undefined":a(i))){var r="",o=!0,u=!1,l=void 0;try{for(var c,d=i[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var s=c.value;r+=this.buildItem(s)}}catch(e){u=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(u)throw l}}e(".menu-manager."+t+" ol.dd-list:first").html(r)}}},{key:"initListeners",value:function(){this.initSaveListener(),this.initAddGroupListener(),this.initAddRouteLinkListener(),this.initAddLinkListener(),this.initMenuSwitcherListener()}},{key:"initMenuSwitcherListener",value:function(){var n=this;e("input#menu-switcher").on("change",function(t){e(t.currentTarget).is(":checked")?(e(".menu-manager.menu-admin").show(),e(".menu-manager.menu-classic").hide()):(e(".menu-manager.menu-admin").hide(),e(".menu-manager.menu-classic").show()),n.menuToJson()})}},{key:"initSaveListener",value:function(){var n=this;e("a.save-menu").on("click",function(e){e.preventDefault(),n.save()})}},{key:"save",value:function(){var n=e("meta[name='save-url']").attr("content");e.ajax({url:n,method:"post",data:{_token:e("meta[name='csrf-token']").attr("content"),structure:this.menuStructure,type:e(".menu-manager:visible").data("type")}}).then(function(e){}).fail(function(e){swal("Error",e.message,"error")})}},{key:"initAddGroupListener",value:function(){var n=this;e("#add-group").on("click",function(t){var a=e("#addGroupModal input[name='label']"),i=e("#addGroupModal input[name='icon']"),r=a.val(),o=i.val();r?o?(n.addGroup(r,o),a.val(""),i.val(""),e("#addGroupModal").modal("hide")):i.parent(".form-line").addClass(["focused","error"]):a.parent(".form-line").addClass(["focused","error"])})}},{key:"initAddRouteLinkListener",value:function(){var n=this;e("#add-route-link").on("click",function(t){var a=e("#addRouteLinkModal input[name='label']"),i=e("#addRouteLinkModal input[name='icon']"),r=e("#addRouteLinkModal input[name='module']"),o=e("#addRouteLinkModal input[name='route']"),u=a.val(),l=i.val(),c=r.val(),d=o.val();u?l?c?d?(n.addRouteLink(u,l,c,d),a.val(""),i.val(""),r.val(""),o.val(""),e("#addRouteLinkModal").modal("hide")):o.parent(".form-line").addClass(["focused","error"]):r.parent(".form-line").addClass(["focused","error"]):i.parent(".form-line").addClass(["focused","error"]):a.parent(".form-line").addClass(["focused","error"])})}},{key:"initAddLinkListener",value:function(){var n=this;e("#add-link").on("click",function(t){var a=e("#addLinkModal input[name='label']"),i=e("#addLinkModal input[name='icon']"),r=e("#addLinkModal input[name='url']"),o=a.val(),u=i.val(),l=r.val();o?u?l?(n.addLink(o,u,l),a.val(""),i.val(""),r.val(""),e("#addLinkModal").modal("hide")):r.parent(".form-line").addClass(["focused","error"]):i.parent(".form-line").addClass(["focused","error"]):a.parent(".form-line").addClass(["focused","error"])})}},{key:"menuToJson",value:function(){this.menuStructure=JSON.stringify(e(".menu-manager:visible").nestable("serialize"))}},{key:"addGroup",value:function(n,t){var a=this.buildItem({type:"group",label:n,icon:t,color:"green"});e(".menu-manager:visible .dd-list:first").append(a),this.menuToJson(),this.save()}},{key:"addRouteLink",value:function(n,t,a,i){var r=this.buildItem({type:"route",module:a,label:n,icon:t,color:"red",route:i});e(".menu-manager:visible .dd-list:first").append(r),this.menuToJson(),this.save()}},{key:"addLink",value:function(n,t,a){var i=this.buildItem({type:"link",label:n,icon:t,color:"blue",url:a});e(".menu-manager:visible .dd-list:first").append(i),this.menuToJson(),this.save()}},{key:"buildItem",value:function(n){var t=this,a="";"group"!==n.type&&(a="dd-nochildren");var i="";n.module&&(i='data-module="'+n.module+'"');var o="";n.url&&(o='data-url="'+n.url+'"');var u="";n.route&&(u='data-route="'+n.route+'"');var l='<li class="dd-item '+a+'" '+i+" "+u+" "+o+' data-type="'+n.type+'" data-label="'+n.label+'" data-icon="'+n.icon+'" data-nochildren="'+!!n.noChildren+'" data-color="'+n.color+'">\n            <div class="dd-handle">\n                <i class="material-icons">'+n.icon+'</i>\n                <span class="icon-label">'+n.label+'</span>\n                <span class="pull-right col-'+n.color+'">'+r.capitalize(n.type)+"</span>\n            </div>";return n.children&&(l+='<ol class="dd-list">',e.each(n.children,function(e,n){l+=t.buildItem(n)}),l+="</ol>"),l+="</li>"}}]),n}()}).call(n,t("7t+N"))},hHRx:function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return i});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var i=function(){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.initCheckboxListener()}return a(n,[{key:"initCheckboxListener",value:function(){var n=e('meta[name="domain"]').attr("content");e("input[type='checkbox'].module-activation").on("click",function(t){var a=t.currentTarget,i=e(a).data("module"),r=!0===e(a).is(":checked")?"1":"0";document.location.href=laroute.route("uccello.settings.module.activation",{domain:n,src_module:i,active:r})})}}]),n}()}).call(n,t("7t+N"))}},[2]);