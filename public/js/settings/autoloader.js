webpackJsonp([3],{2:function(e,n,t){e.exports=t("22iK")},"22iK":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){var n=t("hHRx"),a=t("dwxp"),o=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();new(function(){function t(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.lazyLoad()}return o(t,[{key:"lazyLoad",value:function(){switch(e('meta[name="page"]').attr("content")){case"module-manager":new n.a;break;case"menu-manager":new a.a}}}]),t}())}.call(n,t("7t+N"))},dwxp:function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return i});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var r=t("M4fF"),i=function(){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.initMenu(),this.initListeners()}return o(n,[{key:"initMenu",value:function(){var n=this,t=JSON.parse(e("meta[name='menu-structure']").attr("content"));if("object"===(void 0===t?"undefined":a(t))){var o="",r=!0,i=!1,u=void 0;try{for(var l,d=t[Symbol.iterator]();!(r=(l=d.next()).done);r=!0){var c=l.value;o+=this.buildItem(c)}}catch(e){i=!0,u=e}finally{try{!r&&d.return&&d.return()}finally{if(i)throw u}}e(".menu-manager ol.dd-list:first").html(o)}e(".menu-manager").nestable({maxDepth:3}),this.menuToJson(),e(".menu-manager").on("change",function(e){n.menuToJson()})}},{key:"initListeners",value:function(){this.initSaveListener(),this.initAddGroupListener(),this.initAddRouteLinkListener(),this.initAddLinkListener()}},{key:"initSaveListener",value:function(){var n=this;e("a.save-menu").on("click",function(t){t.preventDefault();var a=e(t.currentTarget).attr("href");e.ajax({url:a,method:"post",data:{_token:e("meta[name='csrf-token']").attr("content"),structure:n.menuStructure}}).then(function(e){swal("Success",e.message,"success")}).fail(function(e){swal("Error",e.message,"error")})})}},{key:"initAddGroupListener",value:function(){var n=this;e("#add-group").on("click",function(t){var a=e("#addGroupModal input[name='label']"),o=e("#addGroupModal input[name='icon']"),r=a.val(),i=o.val();r?i?(n.addGroup(r,i),a.val(""),o.val(""),e("#addGroupModal").modal("hide")):o.parent(".form-line").addClass(["focused","error"]):a.parent(".form-line").addClass(["focused","error"])})}},{key:"initAddRouteLinkListener",value:function(){var n=this;e("#add-route-link").on("click",function(t){var a=e("#addRouteLinkModal input[name='label']"),o=e("#addRouteLinkModal input[name='icon']"),r=e("#addRouteLinkModal input[name='module']"),i=e("#addRouteLinkModal input[name='route']"),u=a.val(),l=o.val(),d=r.val(),c=i.val();u?l?d?c?(n.addRouteLink(u,l,d,c),a.val(""),o.val(""),r.val(""),i.val(""),e("#addRouteLinkModal").modal("hide")):i.parent(".form-line").addClass(["focused","error"]):r.parent(".form-line").addClass(["focused","error"]):o.parent(".form-line").addClass(["focused","error"]):a.parent(".form-line").addClass(["focused","error"])})}},{key:"initAddLinkListener",value:function(){var n=this;e("#add-link").on("click",function(t){var a=e("#addLinkModal input[name='label']"),o=e("#addLinkModal input[name='icon']"),r=e("#addLinkModal input[name='url']"),i=a.val(),u=o.val(),l=r.val();i?u?l?(n.addLink(i,u,l),a.val(""),o.val(""),r.val(""),e("#addLinkModal").modal("hide")):r.parent(".form-line").addClass(["focused","error"]):o.parent(".form-line").addClass(["focused","error"]):a.parent(".form-line").addClass(["focused","error"])})}},{key:"menuToJson",value:function(){this.menuStructure=JSON.stringify(e(".menu-manager").nestable("serialize"))}},{key:"addGroup",value:function(n,t){var a=this.buildItem({type:"group",label:n,icon:t,color:"green"});e(".menu-manager .dd-list:first").append(a),this.menuToJson()}},{key:"addRouteLink",value:function(n,t,a,o){var r=this.buildItem({type:"route",module:a,label:n,icon:t,color:"red",route:o});e(".menu-manager .dd-list:first").append(r),this.menuToJson()}},{key:"addLink",value:function(n,t,a){var o=this.buildItem({type:"link",label:n,icon:t,color:"blue",url:a});e(".menu-manager .dd-list:first").append(o),this.menuToJson()}},{key:"buildItem",value:function(n){var t=this,a="";"group"!==n.type&&(a="dd-nochildren");var o="";n.module&&(o='data-module="'+n.module+'"');var i="";n.url&&(i='data-url="'+n.url+'"');var u="";n.route&&(u='data-route="'+n.route+'"');var l='<li class="dd-item '+a+'" '+o+" "+u+" "+i+' data-type="'+n.type+'" data-label="'+n.label+'" data-icon="'+n.icon+'" data-nochildren="'+!!n.noChildren+'" data-color="'+n.color+'">\n            <div class="dd-handle">\n                <i class="material-icons">'+n.icon+'</i>\n                <span class="icon-label">'+n.label+'</span>\n                <span class="pull-right col-'+n.color+'">'+r.capitalize(n.type)+"</span>\n            </div>";return n.children&&(l+='<ol class="dd-list">',e.each(n.children,function(e,n){l+=t.buildItem(n)}),l+="</ol>"),l+="</li>"}}]),n}()}).call(n,t("7t+N"))},hHRx:function(e,n,t){"use strict";(function(e){t.d(n,"a",function(){return o});var a=function(){function e(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(n,t,a){return t&&e(n.prototype,t),a&&e(n,a),n}}();var o=function(){function n(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.initCheckboxListener()}return a(n,[{key:"initCheckboxListener",value:function(){var n=e('meta[name="domain"]').attr("content");e("input[type='checkbox'].module-activation").on("click",function(t){var a=t.currentTarget,o=e(a).data("module"),r=!0===e(a).is(":checked")?"1":"0";document.location.href=laroute.route("uccello.settings.module.activation",{domain:n,src_module:o,active:r})})}}]),n}()}).call(n,t("7t+N"))}},[2]);